---
title: 前端面试 JS部分 补充
date: 2017-07-04 19:15:03
tags: 
- JS
categories: [JS]
---
<p></p>
<!-- more -->
## 基础知识 ##

### 补充 ###

*知识点*

** 日期 **
Date.now() //获取当前时间毫秒数
var dt = new Date()
dt.getTime() //毫秒数
dt.getFullYear() //年
dt.getMonth() //月(0-11)
dt.getDate() //日(0~31)
dt.getHours() //小时(0~23)
dt.getMinutes() //分钟(0~59)
dt.getSeconds() //秒(0~59)

** Math **
Math.random()//主要用于生成随机数清除缓存

** 数组api ** 
*  forEach 遍历所有元素
```javascript
arr.forEach(function(item, index){
  console.log(index, item)
})
```
*  every 判断所有元素是否都符合条件
```javascript
arr.every(function(item, index){
  if(item < 4){
    return true
  }
  })//返回一个bool值
```
*  some判断是否有至少一个元素符合条件
```javascript
arr.some(function(item, index){
  if(item < 4){
    return true;
  }
  })
```
*  sort排序
```javascript
arr.sort(function(a, b){
  return a - b;//从小到大排序
  //return b - a;//从大到小排序
  })
```
*  map对元素重新组装，生成新数组
```javascript
arr.map(function(item, index){
  return '<b>' + item + '</b>'
  })//返回一个新的数组
```

*  filter过滤符合条件的元素
```javascript
arr.filter(function(item, index){
  if(item >= 2){
    return true;
  }
})//返回一个新的数组
```

** 对象API ** 
```javascript
var obj = {
  x:100,
  y:200,
  z:300
}
for(var key in obj){
  if(obj.hasOwnProperty(key)){//判断key是否是obj的原生的属性而不是从原型链上
    //继承得到的
    console.log(key, obj[key])
  }
}
```


*题目*

*  获取2017-06-10格式的日期
```javascript
function formatDate(dt){
  if(!dt){
    dt = new Date();
  }
  var year = dt.getFullYear();
  var month = dt.getMonth() +１;
  var date = dt.getDate();
  if (month < 10){
    month = '0' + month;
  }
  if (date < 10){
    date = '0' + date; 
  }
  return year + '-' + month + '-' + date
}
var dt = new Date()
var formatdate = new formatDate(dt)
console.log(formatdate)
```

*  获取随机数，要求是长度一致的字符串格式
```
var random = Math.random()
var random = random + '0000000000'
var random = random.slice(0, 10)//永远保证取得到10位
console.log(random)
```

*  写一个能遍历对象和数组的forEach函数
```
function forEach(obj, fn){
  var key;
  if(obj instanceof Array){//属于数组
    obj.forEach(function(item, index){
      fn(index, item)
    })
  }else{//属于对象, 实际上数组也是一种对象的类型，我对数组使用for in也可
  //以打印key, value, 但是会多打印一个contain函数出来，这里可以使用
  //hasOwnProperty过滤一下，就可以统一用for in 实现了
    for(key in obj){
      fn(key, obj[key])
    }
  }
}

var arr = [1,2,3]
forEach(arr, function(index, item){
  console.log(index, item)
  })

var obj = {x:100, y:200}
forEach(obj, function(key, value){
  console.log(key, value)
  })
```

